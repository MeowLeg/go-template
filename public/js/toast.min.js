(function(){var pluginName="hg_toast";function Toast(options){this.op=$.extend({content:"接口访问错误",target:"#popToast",appendTo:"body",insertBefore:"",delay:1300,cssInited:false},options);this.cssInit()}$.extend(Toast.prototype,{show:function(msg,callback){var self=this;if(!self.$toast||!self.$toast.length){self.$toast=$(this.append("tip"));if(self.op.insertBefore){self.$toast.insertBefore(self.op.insertBefore)}else if(self.op.appendTo){self.$toast.appendTo(self.op.appendTo)}}self.$toast.find(".inner").html(msg||self.op.content);self.$toast.removeClass("fadeOut").addClass("fadeIn");setTimeout(function(){self.close(callback)},self.op.delay);return self},close:function(callback){var self=this;!!self.$toast&&self.$toast.removeClass("fadeIn").addClass("fadeOut");$.isFunction(callback)&&callback();setTimeout(function(){!!self.$toast&&self.$toast.remove();self.$toast=null},300);return this},confirm:function(msg,callback){var self=this;if(!self.$toast||!self.$toast.length){self.$toast=$(this.append("confirm"));if(self.op.insertBefore){self.$toast.insertBefore(self.op.insertBefore)}else if(self.op.appendTo){self.$toast.appendTo(self.op.appendTo)}}self.$toast.find(".inner").html(msg||self.op.content);self.$toast.removeClass("fadeOut").addClass("fadeIn");self.$toast.find(".butn").click(function(event){var $this=$(event.currentTarget);if($this.hasClass("butn-cancel")){self.close(callback)}else if($this.hasClass("butn-sure")){$.isFunction(callback)&&callback(true);self.close()}});return self},append:function(type){if(type=="tip"){return'<div class="popOverlay fadeOut"><div class="popBox tipBox" id="'+this.op.target.substr(1)+'"><span class="inner"></span></div></div>'}else if(type=="confirm"){return""+'<div class="popOverlay fadeOut">'+'<div class="popBox confirmBox" id="'+this.op.target.substr(1)+'">'+'<div class="inner"></div>'+'<div class="pop-butnArea">'+'<span class="butn butn-cancel">取消</span>'+'<span class="butn butn-sure">确定</span>'+"</div>"+"</div>"+"</div>"+""}},cssInit:function(){if(this.op.cssInited){return}this.op.cssInited=true;$("<style />").attr("style","text/css").appendTo("head").html(".popOverlay{position:fixed; z-index:9999; top:0; left:0; display:-webkit-box; width:100%; height:540px; -webkit-box-align:top; -webkit-box-pack:center; }"+".popBox{width:270px; height:82px; margin-top:30%; z-index: 11001; text-align : center; transition:opacity 0.3s; }"+".tipBox{height : 46px; }"+".tipBox .inner{display:inline-block; height:46px; line-height:46px; margin:0 10px; padding:0 10px; background-color: rgba(0, 0, 0, 0.8);border-radius:8px; overflow:hidden; color : #fff;}"+".confirmBox{text-align:center; box-shadow:0 3px 9px rgba(0,0,0,.5); background-color:rgba(0, 0, 0, 0.8); border-radius:3px; }"+".confirmBox .inner{line-height:22px; padding:10px; color:#fff; border-radius:3px 3px 0 0; }"+".confirmBox .pop-butnArea{display:-webkit-box; display:-ms-flexbox; height:40px; border-top:1px solid rgba(88, 88, 88, 0.8); }"+".confirmBox .butn{color:#fff;display:block;-webkit-box-flex:1;-ms-flex:1; line-height:40px; border-right:1px solid rgba(88, 88, 88, 0.8); }"+".confirmBox .butn:hover{color:#fff;}"+".confirmBox .butn:last-of-type{border-right:none; }"+".fadeOut{opacity:0!important; z-index:-1!important;}"+".fadeIn{opacity:1!important; }")}});$[pluginName]=function(option){return new Toast(option)}})();